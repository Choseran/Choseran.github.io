<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <style media="screen">
        * {margin: 0;padding: 0;}
        html,body{width: 100%;height: 100%}
        body {background: #000;}
        em{font-style: normal;}
        .wrap{width: 100%;height: 100%;min-width: 1024px; min-height: 768px;position: relative;}
        .btnWrap {position: absolute;top: 50px;left: 50px;}
        ul {margin-bottom: 20px;height: 21px;}
        ul .heart:first-child {margin-top:7px}
        .heart {width: 10px;height: 10px;margin-right: 5px;display: inline-block;background: #ee8484;border-radius: 10px;}
        .on {width: 30px;height: 30px;display: inline-block;cursor: pointer;text-align: center;background: #e9ce3b;}
        .on p{line-height: 30px;}
        .score {color: #fff}
        .present{display:none;position: absolute;background: #3d3d3d;width: 20px;height: 20px}
        .one{bottom: 50px;right:50px;}
        .two{top: 200px;right: 850px}
        .three{bottom: 70px;left: 120px;}

        @media all and (max-width: 768px) {
            .wrap{min-width: 100%; min-height: 100%;}
            .present{width: 7%;height: 4%;}
            .one{bottom: 5%;right:5%;}
            .two{top: 5%;right: 5%}
            .three{bottom: 5%;left: 5%;}
        }
    </style>
</head>
<body>
    <div class="wrap">
        <div class="btnWrap">
            <div id="result" class="">
                <p class="score">Score: <em></em></p>
            </div>
            <ul>
                <li class="heart"></li>
                <li class="heart"></li>
                <li class="heart"></li>
                <li class="heart"></li>
                <li class="heart"></li>
            </ul>
            <div class="on"><p>ON</p></div>
        </div>

        <div class="present one">
        </div>
        <div class="present two">
        </div>
        <div class="present three">
        </div>
    </div>


    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.2/jquery.min.js"></script>

    <script type="text/javascript">
        $(document).ready(function() {

            var count = 0;
            var score = 0;
            var all = 3;

            let result = document.querySelector('.score>em');
            result.textContent = score;

            if (matchMedia("all and (max-width:768)")) {
                var oneBottom = Math.floor(Math.random() * 80) + 11;
                var oneRight = Math.floor(Math.random() * 80) + 11;
                var twoTop = Math.floor(Math.random() * 80) + 11;
                var twoRight = Math.floor(Math.random() * 80) + 11;
                var threeBottom = Math.floor(Math.random() * 80) + 11;
                var threeLeft = Math.floor(Math.random() * 80) + 11;
                $('.one').css('bottom', oneBottom + '%');
                $('.one').css('right', oneRight + '%');
                $('.two').css('top', twoTop + '%');
                $('.two').css('right', twoRight + '%');
                $('.three').css('bottom', threeBottom + '%');
                $('.three').css('left', threeLeft + '%');
            } else {
                var oneBottom = Math.floor(Math.random() * 650) + 51;
                var oneRight = Math.floor(Math.random() * 1000) + 51;
                var twoTop = Math.floor(Math.random() * 650) + 51;
                var twoRight = Math.floor(Math.random() * 1000) + 51;
                var threeBottom = Math.floor(Math.random() * 650) + 51;
                var threeLeft = Math.floor(Math.random() * 1000) + 51;
                $('.one').css('bottom', oneBottom);
                $('.one').css('right', oneRight);
                $('.two').css('top', twoTop);
                $('.two').css('right', twoRight);
                $('.three').css('bottom', threeBottom);
                $('.three').css('left', threeLeft);
            }




            console.log(oneBottom);


            $('.on').click(function() {
                if (count < 5) {
                    if (score == all) {
                        alert("축하드립니다!\n모두 찾으셨습니다!");
                    } else {
                        ++count;
                        $('.heart:nth-last-child(' + count + ')').css('display', 'none');
                        $('body').css('background', '#fff');
                        $('.score').css('color', '#000');
                        $('.present:not(.click)').css('display', 'block');
                        setTimeout(function() {
                            $('body').css('background', '#000');
                            $('.score').css('color', '#fff');
                            $('.present').css('display', 'none');
                        }, 1000);
                    }
                } else if (score == all) {
                    alert("축하드립니다!\n모두 찾으셨습니다!");
                } else {
                    alert("기회를 전부 소진했습니다.\nF5를 눌러 처음부터 다시 해주세요.");
                }
            });
            $('.present').click(function() {
                if (score >= 0) {
                    ++score;
                    $(this).css('display', 'none');
                    $(this).addClass('click');
                    result.textContent = score;

                }
            });
        });
    </script>
</body>
</html>
